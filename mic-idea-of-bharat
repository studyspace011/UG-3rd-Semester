<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MIC - Syllabus Tracker</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes progress {
            0% { width: 0%; }
            100% { width: var(--progress); }
        }
        
        .progress-bar {
            --progress: 0%;
            animation: progress 1s ease-in-out forwards;
        }
        
        .progress-bar::after {
            content: attr(data-progress) "%";
            position: absolute;
            right: 5px;
            top: 50%;
            transform: translateY(-50%);
            color: white;
            font-size: 0.75rem;
            font-weight: bold;
        }
        
        .circular-progress {
            --progress: 0;
            --size: 40px;
            --bar-width: 4px;
            position: relative;
            width: var(--size);
            height: var(--size);
            border-radius: 50%;
            background: conic-gradient(#4f46e5 calc(var(--progress) * 3.6deg), #e0e7ff 0deg);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .circular-progress::before {
            content: attr(data-progress) "%";
            position: absolute;
            font-size: 0.6rem;
            font-weight: bold;
            color: #111827;
        }
        
        .glassmorphism {
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        .checkbox-container input[type="checkbox"] {
            opacity: 0;
            position: absolute;
        }
        
        .checkbox-container .checkmark {
            position: relative;
            display: inline-block;
            width: 18px;
            height: 18px;
            border: 2px solid #4f46e5;
            border-radius: 4px;
            transition: all 0.3s ease;
        }
        
        .checkbox-container input[type="checkbox"]:checked ~ .checkmark {
            background-color: #4f46e5;
        }
        
        .checkbox-container .checkmark::after {
            content: "";
            position: absolute;
            display: none;
            left: 5px;
            top: 1px;
            width: 4px;
            height: 9px;
            border: solid white;
            border-width: 0 2px 2px 0;
            transform: rotate(45deg);
        }
        
        .checkbox-container input[type="checkbox"]:checked ~ .checkmark::after {
            display: block;
        }
        
        .unit-header {
            transition: all 0.3s ease;
        }
        
        .unit-header:hover {
            transform: translateX(5px);
        }
        
        .topic-item {
            transition: all 0.3s ease;
        }
        
        .topic-item:hover {
            transform: translateX(3px);
        }
        
        .subtopic-item {
            transition: all 0.3s ease;
        }
        
        .subtopic-item:hover {
            transform: translateX(2px);
        }
        
        @media (max-width: 640px) {
            .circular-progress {
                --size: 30px;
                --bar-width: 3px;
            }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-indigo-50 to-purple-50 min-h-screen">
    <div class="container mx-auto px-4 py-6 max-w-6xl">
        <!-- Top Navbar -->
        <nav class="glassmorphism rounded-xl p-4 mb-6 shadow-lg">
            <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4">
                <div>
                    <h1 class="text-xl md:text-2xl font-bold text-indigo-800">MIC - Mathematical Methods in Economics</h1>
                    <p id="student-name" class="text-sm text-indigo-600"></p>
                </div>
                
                <div class="flex items-center gap-4">
                    <div class="flex items-center gap-2">
                        <div class="circular-progress" id="overall-progress" data-progress="0"></div>
                        <span class="text-sm font-medium text-indigo-800">Overall Progress</span>
                    </div>
                    <button id="reset-btn" class="px-3 py-1 bg-red-100 text-red-600 rounded-lg text-sm font-medium hover:bg-red-200 transition">Reset Progress</button>
                </div>
            </div>
        </nav>
        
        <!-- Syllabus Container -->
        <div class="bg-white rounded-xl shadow-lg overflow-hidden">
            <div id="syllabus-container" class="divide-y divide-gray-200">
                <!-- Units will be dynamically inserted here -->
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize student name
            const studentName = localStorage.getItem('studentName') || 'Student';
            document.getElementById('student-name').textContent = studentName;
            
            // MIC-2: History of World Civilization
const syllabus = {
    subject: "MIC-2: History of World Civilization",
    credits: 3,
    units: [
        {
            id: "unit-1",
            title: "इकाई 1: प्रारंभिक और मध्यकालीन विश्व सभ्यता",
            topics: [
                {
                    id: "topic-1-1",
                    title: "1.1 स्रोतों का सर्वेक्षण",
                    subtopics: [
                        { id: "subtopic-1-1-1", title: "1.1.1 परिचय", completed: false },
                        { id: "subtopic-1-1-2", title: "1.1.2 प्रारम्भिक विश्व सभ्यता के स्रोतों का सर्वेक्षण", completed: false },
                        { id: "subtopic-1-1-2-1", title: "1.1.2.1 मिस्र सभ्यता", completed: false },
                        { id: "subtopic-1-1-2-2", title: "1.1.2.2 सुमेरिया सभ्यता", completed: false },
                        { id: "subtopic-1-1-2-3", title: "1.1.2.3 असीरिया साम्राज्य", completed: false },
                        { id: "subtopic-1-1-2-4", title: "1.1.2.4 बेबीलोन साम्राज्य", completed: false },
                        { id: "subtopic-1-1-2-5", title: "1.1.2.5 फारस सभ्यता", completed: false },
                        { id: "subtopic-1-1-3", title: "1.1.3 मध्ययुगीन विश्व सभ्यता के स्रोतों का सर्वेक्षण", completed: false },
                        { id: "subtopic-1-1-3-1", title: "1.1.3.1 ईसाई धर्म", completed: false },
                        { id: "subtopic-1-1-3-2", title: "1.1.3.2 इस्लाम धर्म", completed: false }
                    ]
                },
                {
                    id: "topic-1-2",
                    title: "1.2 मिस्र की सभ्यता",
                    subtopics: [
                        { id: "subtopic-1-2-1", title: "1.2.1 परिचय", completed: false },
                        { id: "subtopic-1-2-2", title: "1.2.2 उदय एवं विकास", completed: false },
                        { id: "subtopic-1-2-3", title: "1.2.3 राजनीतिक विकास", completed: false },
                        { id: "subtopic-1-2-3-1", title: "1.2.3.1 पिरामिड युग", completed: false },
                        { id: "subtopic-1-2-3-2", title: "1.2.3.2 सामंतवादी युग", completed: false },
                        { id: "subtopic-1-2-3-3", title: "1.2.3.3 साम्राज्यवादी युग", completed: false },
                        { id: "subtopic-1-2-4", title: "1.2.4 कला", completed: false },
                        { id: "subtopic-1-2-5", title: "1.2.5 वास्तुकला", completed: false },
                        { id: "subtopic-1-2-6", title: "1.2.6 धार्मिक जीवन", completed: false }
                    ]
                },
                {
                    id: "topic-1-3",
                    title: "1.3 मेसोपोटामिया की सभ्यता",
                    subtopics: [
                        { id: "subtopic-1-3-1", title: "1.3.1 सुमेरियन, बेबीलोनियन और असीरियन समाज", completed: false },
                        { id: "subtopic-1-3-2", title: "1.3.2 धर्म, कानून, कला और वास्तुकला", completed: false },
                        { id: "subtopic-1-3-3", title: "1.3.3 प्रशासन और शिक्षा", completed: false },
                        { id: "subtopic-1-3-4", title: "1.3.4 साहित्य, विज्ञान एवं कला", completed: false },
                        { id: "subtopic-1-3-5", title: "1.3.5 कानून", completed: false },
                        { id: "subtopic-1-3-6", title: "1.3.6 वास्तुकला", completed: false }
                    ]
                },
                {
                    id: "topic-1-4",
                    title: "1.4 बेबीलोनिया की सभ्यता",
                    subtopics: [
                        { id: "subtopic-1-4-1", title: "1.4.1 उदय एवं विकास", completed: false },
                        { id: "subtopic-1-4-2", title: "1.4.2 विशेषताएँ", completed: false }
                    ]
                },
                {
                    id: "topic-1-5",
                    title: "1.5 असीरिया की सभ्यता",
                    subtopics: [
                        { id: "subtopic-1-5-1", title: "1.5.1 विशेषताएँ", completed: false },
                        { id: "subtopic-1-5-1-1", title: "1.5.1.1 राजनीतिक व्यवस्था", completed: false },
                        { id: "subtopic-1-5-1-2", title: "1.5.1.2 सामाजिक जीवन", completed: false },
                        { id: "subtopic-1-5-1-3", title: "1.5.1.3 धार्मिक जीवन", completed: false },
                        { id: "subtopic-1-5-1-4", title: "1.5.1.4 आर्थिक स्थिति", completed: false },
                        { id: "subtopic-1-5-1-5", title: "1.5.1.5 साहित्य एवं विज्ञान", completed: false },
                        { id: "subtopic-1-5-1-6", title: "1.5.1.6 कला एवं वास्तुकला", completed: false },
                        { id: "subtopic-1-5-1-7", title: "1.5.1.7 कानून", completed: false },
                        { id: "subtopic-1-5-1-8", title: "1.5.1.8 शिक्षा", completed: false }
                    ]
                },
                {
                    id: "topic-1-6",
                    title: "1.6 चीन की सभ्यता",
                    subtopics: [
                        { id: "subtopic-1-6-1", title: "1.6.1 उदय एवं विकास", completed: false },
                        { id: "subtopic-1-6-2", title: "1.6.2 प्रमुख विशेषताएँ", completed: false },
                        { id: "subtopic-1-6-2-1", title: "1.6.2.1 राजनीतिक व्यवस्था", completed: false },
                        { id: "subtopic-1-6-2-2", title: "1.6.2.2 सामाजिक संरचना", completed: false },
                        { id: "subtopic-1-6-2-3", title: "1.6.2.3 विज्ञान और तकनीकी", completed: false }
                    ]
                },
                {
                    id: "topic-1-7",
                    title: "1.7 फारसी सभ्यता",
                    subtopics: [
                        { id: "subtopic-1-7-1", title: "1.7.1 परिचय", completed: false },
                        { id: "subtopic-1-7-2", title: "1.7.2 राजनीतिक स्थिति", completed: false },
                        { id: "subtopic-1-7-3", title: "1.7.3 सामाजिक स्थिति", completed: false },
                        { id: "subtopic-1-7-4", title: "1.7.4 आर्थिक स्थिति", completed: false }
                    ]
                }
            ]
        },
        {
            id: "unit-2",
            title: "इकाई 2: शास्त्रीय यूनान",
            topics: [
                {
                    id: "topic-2-1",
                    title: "2.1 शास्त्रीय यूनान / ग्रीस",
                    subtopics: [
                        { id: "subtopic-2-1-1", title: "2.1.1 प्रारम्भिक शास्त्रीय युग (480-450 ई.पू.)", completed: false },
                        { id: "subtopic-2-1-2", title: "2.1.2 उत्तर शास्त्रीय युग (450-323 ई.पू.)", completed: false }
                    ]
                },
                {
                    id: "topic-2-2",
                    title: "2.2 होमर युग",
                    subtopics: [
                        { id: "subtopic-2-2-1", title: "2.2.1 होमर युग का उद्भव एवं विकास", completed: false },
                        { id: "subtopic-2-2-2", title: "2.2.2 शास्त्रीय यूनान का उद्भव", completed: false }
                    ]
                },
                {
                    id: "topic-2-3",
                    title: "2.3 एथेंस और स्पार्टा",
                    subtopics: [
                        { id: "subtopic-2-3-1", title: "2.3.1 एथेंस", completed: false },
                        { id: "subtopic-2-3-1-1", title: "2.3.1.1 सोलन के सुधार", completed: false },
                        { id: "subtopic-2-3-1-2", title: "2.3.1.2 आर्थिक और सामाजिक सुधार", completed: false },
                        { id: "subtopic-2-3-1-3", title: "2.3.1.3 भूमि सुधार", completed: false },
                        { id: "subtopic-2-3-1-4", title: "2.3.1.4 प्रशासनिक सुधार", completed: false },
                        { id: "subtopic-2-3-1-5", title: "2.3.1.5 पिसिस्ट्रेटर्स का स्वेच्छाचारी शासन", completed: false },
                        { id: "subtopic-2-3-1-6", title: "2.3.1.6 क्लीस्थेनिज के सुधार", completed: false },
                        { id: "subtopic-2-3-1-7", title: "2.3.1.7 ब्यूल का पुनर्गठन", completed: false },
                        { id: "subtopic-2-3-1-8", title: "2.3.1.8 एथेंस साम्राज्य", completed: false },
                        { id: "subtopic-2-3-2", title: "2.3.2 स्पार्टा", completed: false },
                        { id: "subtopic-2-3-2-1", title: "2.3.2.1 स्पार्टा का उदय", completed: false },
                        { id: "subtopic-2-3-2-2", title: "2.3.2.2 स्पार्टा में संस्कृति", completed: false },
                        { id: "subtopic-2-3-2-3", title: "2.3.2.3 महिलाओं की स्थिति", completed: false },
                        { id: "subtopic-2-3-2-4", title: "2.3.2.4 हेलोट्स वर्ग", completed: false }
                    ]
                },
                {
                    id: "topic-2-4",
                    title: "2.4 यूनान-फारस युद्ध और पेलोपोनेसियन युद्ध",
                    subtopics: [
                        { id: "subtopic-2-4-1", title: "2.4.1 यूनान", completed: false },
                        { id: "subtopic-2-4-1-1", title: "2.4.1.1 प्राचीन ग्रीस का प्रारंभिक इतिहास", completed: false },
                        { id: "subtopic-2-4-1-2", title: "2.4.1.2 साइक्लेडिक सभ्यता (लगभग 3200-1100 ई.पू.)", completed: false },
                        { id: "subtopic-2-4-1-3", title: "2.4.1.3 मिनोअन सभ्यता (2700-1500 ई.पू.)", completed: false },
                        { id: "subtopic-2-4-1-4", title: "2.4.1.4 पुरातन से शास्त्रीय काल तक", completed: false },
                        { id: "subtopic-2-4-1-5", title: "2.4.1.5 सिकंदर महान और रोम का आगमन", completed: false },
                        { id: "subtopic-2-4-2", title: "2.4.2 यूनान-फारस (ईरान) संघर्ष", completed: false },
                        { id: "subtopic-2-4-2-1", title: "2.4.2.1 ग्रीस पर पहला फारसी आक्रमण", completed: false },
                        { id: "subtopic-2-4-2-2", title: "2.4.2.2 ग्रीस पर दूसरा फारसी आक्रमण", completed: false },
                        { id: "subtopic-2-4-3", title: "2.4.3 पेलोपोनेसियन युद्ध", completed: false }
                    ]
                },
                {
                    id: "topic-2-5",
                    title: "2.5 यूनान में पेरिकल्स युग",
                    subtopics: [
                        { id: "subtopic-2-5-1", title: "2.5.1 पेरिकल्स", completed: false },
                        { id: "subtopic-2-5-2", title: "2.5.2 राज्य का विकास", completed: false },
                        { id: "subtopic-2-5-3", title: "2.5.3 समाज का विकास", completed: false },
                        { id: "subtopic-2-5-4", title: "2.5.4 विज्ञान का विकास", completed: false },
                        { id: "subtopic-2-5-5", title: "2.5.5 कला का विकास", completed: false },
                        { id: "subtopic-2-5-6", title: "2.5.6 दर्शन का विकास", completed: false }
                    ]
                }
            ]
        },
        {
            id: "unit-3",
            title: "इकाई 3: रोम साम्राज्य",
            topics: [
                {
                    id: "topic-3-1",
                    title: "3.1 रोम की उत्पत्ति",
                    subtopics: [
                        { id: "subtopic-3-1-1", title: "3.1.1 रोम की उत्पत्ति", completed: false }
                    ]
                },
                {
                    id: "topic-3-2",
                    title: "3.2 रोम का उद्भव एवं विकास - रोमन गणराज्य और रोमन कानून",
                    subtopics: [
                        { id: "subtopic-3-2-1", title: "3.2.1 रोम का उद्भव एवं विकास", completed: false },
                        { id: "subtopic-3-2-2", title: "3.2.2 रोमन संस्कृति का विकास", completed: false },
                        { id: "subtopic-3-2-3", title: "3.2.3 राजनीतिक संरचना", completed: false },
                        { id: "subtopic-3-2-4", title: "3.2.4 सामाजिक संरचना", completed: false },
                        { id: "subtopic-3-2-5", title: "3.2.5 रोम का आर्थिक विकास", completed: false },
                        { id: "subtopic-3-2-6", title: "3.2.6 धार्मिक स्थिति", completed: false },
                        { id: "subtopic-3-2-7", title: "3.2.7 रोम की उपलब्धियाँ", completed: false }
                    ]
                },
                {
                    id: "topic-3-3",
                    title: "3.3 रोमन गणराज्य एवं रोमन कानून",
                    subtopics: [
                        { id: "subtopic-3-3-1", title: "3.3.1 रोमन गणराज्य", completed: false },
                        { id: "subtopic-3-3-1-1", title: "3.3.1.1 असेम्बली ऑफ सेन्चुरीज", completed: false },
                        { id: "subtopic-3-3-1-2", title: "3.3.1.2 असेम्बली ऑफ ट्राइब्स", completed: false },
                        { id: "subtopic-3-3-2", title: "3.3.2 रोमन कानून", completed: false }
                    ]
                },
                {
                    id: "topic-3-4",
                    title: "3.4 रोम का विस्तार",
                    subtopics: [
                        { id: "subtopic-3-4-1", title: "3.4.1 परिचय", completed: false },
                        { id: "subtopic-3-4-2", title: "3.4.2 जनसंख्या एवं विस्तार", completed: false },
                        { id: "subtopic-3-4-3", title: "3.4.3 इटली में गणतंत्र का विस्तार", completed: false },
                        { id: "subtopic-3-4-4", title: "3.4.4 सैमनाइट्स के साथ युद्ध", completed: false },
                        { id: "subtopic-3-4-5", title: "3.4.5 प्युनिक युद्ध (261-241 BCE) – दक्षिण का विस्तार", completed: false },
                        { id: "subtopic-3-4-6", title: "3.4.6 रोम का पूर्वी विस्तार", completed: false },
                        { id: "subtopic-3-4-7", title: "3.4.7 पश्चिम का विस्तार और भूमध्य सागर पर नियंत्रण", completed: false },
                        { id: "subtopic-3-4-8", title: "3.4.8 गॉल पर विजय और साम्राज्य की स्थापना", completed: false },
                        { id: "subtopic-3-4-9", title: "3.4.9 साम्राज्य का संरक्षण", completed: false },
                        { id: "subtopic-3-4-10", title: "3.4.10 रोम का शांतिकाल", completed: false },
                        { id: "subtopic-3-4-11", title: "3.4.11 साम्राज्य का विभाजन", completed: false }
                    ]
                },
                {
                    id: "topic-3-5",
                    title: "3.5 रोम में शाही युग",
                    subtopics: [
                        { id: "subtopic-3-5-1", title: "3.5.1 रोमन साम्राज्य", completed: false },
                        { id: "subtopic-3-5-2", title: "3.5.2 प्रारम्भिक राजवंश", completed: false },
                        { id: "subtopic-3-5-3", title: "3.5.3 रोम के पाँच योग्य सम्राट", completed: false },
                        { id: "subtopic-3-5-4", title: "3.5.4 सेवेरन राजवंश", completed: false },
                        { id: "subtopic-3-5-5", title: "3.5.5 पूर्व और पश्चिम के साम्राज्य", completed: false },
                        { id: "subtopic-3-5-6", title: "3.5.6 कॉन्स्टेंटाइन और ईसाई धर्म", completed: false },
                        { id: "subtopic-3-5-7", title: "3.5.7 रोमन साम्राज्य का पतन", completed: false }
                    ]
                }
            ]
        },
        {
            id: "unit-4",
            title: "इकाई 4: ईसाई धर्म और इस्लाम का उदय",
            topics: [
                {
                    id: "topic-4-1",
                    title: "4.1 ईसाई धर्म",
                    subtopics: [
                        { id: "subtopic-4-1-1", title: "4.1.1 ईसाई धर्म का उदय", completed: false },
                        { id: "subtopic-4-1-2", title: "4.1.2 ईसाई धर्म की स्थापना", completed: false },
                        { id: "subtopic-4-1-3", title: "4.1.3 ईसाई धर्म का विकास", completed: false }
                    ]
                },
                {
                    id: "topic-4-2",
                    title: "4.2 बारबेरियन आक्रमण और पश्चिमी साम्राज्य का पतन",
                    subtopics: [
                        { id: "subtopic-4-2-1", title: "4.2.1 बर्बर आक्रमण", completed: false },
                        { id: "subtopic-4-2-2", title: "4.2.2 पश्चिमी साम्राज्य का पतन", completed: false }
                    ]
                },
                {
                    id: "topic-4-3",
                    title: "4.3 इस्लाम",
                    subtopics: [
                        { id: "subtopic-4-3-1", title: "4.3.1 परिचय", completed: false },
                        { id: "subtopic-4-3-2", title: "4.3.2 इस्लाम का उदय", completed: false },
                        { id: "subtopic-4-3-3", title: "4.3.3 इस्लाम का विस्तार", completed: false },
                        { id: "subtopic-4-3-4", title: "4.3.4 भारतीय समाज पर इस्लाम का प्रभाव", completed: false }
                    ]
                },
                {
                    id: "topic-4-4",
                    title: "4.4 अरब सभ्यता",
                    subtopics: [
                        { id: "subtopic-4-4-1", title: "4.4.1 परिचय", completed: false },
                        { id: "subtopic-4-4-2", title: "4.4.2 अरब सभ्यता का योगदान", completed: false }
                    ]
                }
            ]
        },
        {
            id: "unit-5",
            title: "इकाई 5: प्रारंभिक मध्यकालीन यूरोप",
            topics: [
                {
                    id: "topic-5-1",
                    title: "5.1 प्रारंभिक मध्यकालीन यूरोप",
                    subtopics: [
                        { id: "subtopic-5-1-1", title: "5.1.1 प्रारंभिक मध्यकालीन यूरोप", completed: false }
                    ]
                },
                {
                    id: "topic-5-2",
                    title: "5.2 धर्मयुद्ध और यूरोप पर उनका प्रभाव",
                    subtopics: [
                        { id: "subtopic-5-2-1", title: "5.2.1 धर्मयुद्ध (1096-1291)", completed: false },
                        { id: "subtopic-5-2-2", title: "5.2.2 धर्मयुद्ध के कारण", completed: false },
                        { id: "subtopic-5-2-3", title: "5.2.3 यूरोप पर प्रभाव", completed: false }
                    ]
                },
                {
                    id: "topic-5-3",
                    title: "5.3 यूरोपीय सामंतवाद का उदय, विकास और पतन",
                    subtopics: [
                        { id: "subtopic-5-3-1", title: "5.3.1 सामंतवाद", completed: false },
                        { id: "subtopic-5-3-2", title: "5.3.2 सामंतवाद के उदय के कारण", completed: false },
                        { id: "subtopic-5-3-3", title: "5.3.3 सामंतवाद का विकास", completed: false },
                        { id: "subtopic-5-3-4", title: "5.3.4 सामंतों का जीवन", completed: false },
                        { id: "subtopic-5-3-5", title: "5.3.5 सामंतवाद के दोष", completed: false },
                        { id: "subtopic-5-3-6", title: "5.3.6 सामंतवाद के पतन के कारण", completed: false }
                    ]
                },
                {
                    id: "topic-5-4",
                    title: "5.4 व्यावसायीकरण और उसका प्रभाव",
                    subtopics: [
                        { id: "subtopic-5-4-1", title: "5.4.1 परिचय", completed: false },
                        { id: "subtopic-5-4-2", title: "5.4.2 प्रारंभिक मध्यकालीन व्यापार में बाजार संरचना", completed: false },
                        { id: "subtopic-5-4-3", title: "5.4.3 मध्यकालीन यूरोप में नगरों और व्यापार का विकास", completed: false },
                        { id: "subtopic-5-4-4", title: "5.4.4 मध्ययुग में व्यापार का प्रभाव", completed: false }
                    ]
                },
                {
                    id: "topic-5-5",
                    title: "5.5 पूर्व-मध्यकालीन यूरोप में धर्म और समाज",
                    subtopics: [
                        { id: "subtopic-5-5-1", title: "5.5.1 प्रारंभिक मध्यकालीन यूरोप में धर्म", completed: false },
                        { id: "subtopic-5-5-2", title: "5.5.2 प्रारंभिक मध्यकालीन यूरोप में समाज", completed: false }
                    ]
                },
                {
                    id: "topic-5-6",
                    title: "5.6 यूरोप में धर्म-सुधार आंदोलन",
                    subtopics: [
                        { id: "subtopic-5-6-1", title: "5.6.1 धर्म-सुधार आंदोलन का अर्थ एवं परिभाषाएँ", completed: false },
                        { id: "subtopic-5-6-2", title: "5.6.2 धर्म-सुधार आंदोलन का स्वरूप/प्रकृति", completed: false },
                        { id: "subtopic-5-6-3", title: "5.6.3 धर्म-सुधार आंदोलन के उदय के कारण", completed: false },
                        { id: "subtopic-5-6-4", title: "5.6.4 धर्म-सुधार आंदोलन का विकास", completed: false },
                        { id: "subtopic-5-6-5", title: "5.6.5 धर्म-सुधार आंदोलन का प्रभाव", completed: false },
                        { id: "subtopic-5-6-6", title: "5.6.6 धर्म-सुधार के परिणाम", completed: false }
                    ]
                }
            ]
        }
    ]
};


            // Load progress from localStorage
            function loadProgress() {
                const savedProgress = localStorage.getItem('syllabusProgress');
                if (savedProgress) {
                    const parsedProgress = JSON.parse(savedProgress);
                    
                    // Update the syllabus structure with saved progress
                    parsedProgress.units.forEach(savedUnit => {
                        const unit = syllabus.units.find(u => u.id === savedUnit.id);
                        if (unit) {
                            savedUnit.topics.forEach(savedTopic => {
                                const topic = unit.topics.find(t => t.id === savedTopic.id);
                                if (topic) {
                                    savedTopic.subtopics.forEach(savedSubtopic => {
                                        const subtopic = topic.subtopics.find(s => s.id === savedSubtopic.id);
                                        if (subtopic) {
                                            subtopic.completed = savedSubtopic.completed;
                                        }
                                    });
                                }
                            });
                        }
                    });
                }
            }

            // Save progress to localStorage
            function saveProgress() {
                localStorage.setItem('syllabusProgress', JSON.stringify(syllabus));
            }

            // Calculate progress for a collection of items
            function calculateProgress(items) {
                if (items.length === 0) return 0;
                const completed = items.filter(item => item.completed).length;
                return Math.round((completed / items.length) * 100);
            }

            // Update progress indicators
            function updateProgress() {
                // Update overall progress
                const allSubtopics = [];
                syllabus.units.forEach(unit => {
                    unit.topics.forEach(topic => {
                        allSubtopics.push(...topic.subtopics);
                    });
                });
                
                const overallProgress = calculateProgress(allSubtopics);
                document.getElementById('overall-progress').style.setProperty('--progress', overallProgress);
                document.getElementById('overall-progress').setAttribute('data-progress', overallProgress);
                
                // Update unit progress indicators
                syllabus.units.forEach(unit => {
                    const unitSubtopics = [];
                    unit.topics.forEach(topic => {
                        unitSubtopics.push(...topic.subtopics);
                    });
                    
                    const unitProgress = calculateProgress(unitSubtopics);
                    const unitProgressElement = document.querySelector(`#${unit.id} .unit-progress`);
                    if (unitProgressElement) {
                        unitProgressElement.style.setProperty('--progress', unitProgress);
                        unitProgressElement.setAttribute('data-progress', unitProgress);
                    }
                    
                    // Update topic progress indicators
                    unit.topics.forEach(topic => {
                        const topicProgress = calculateProgress(topic.subtopics);
                        const topicProgressElement = document.querySelector(`#${topic.id} .topic-progress`);
                        if (topicProgressElement) {
                            topicProgressElement.style.setProperty('--progress', topicProgress);
                            topicProgressElement.setAttribute('data-progress', topicProgress);
                        }
                    });
                });
                
                saveProgress();
            }

            // Render the syllabus
            function renderSyllabus() {
                const container = document.getElementById('syllabus-container');
                container.innerHTML = '';
                
                syllabus.units.forEach(unit => {
                    const unitSubtopics = [];
                    unit.topics.forEach(topic => {
                        unitSubtopics.push(...topic.subtopics);
                    });
                    
                    const unitProgress = calculateProgress(unitSubtopics);
                    
                    const unitElement = document.createElement('div');
                    unitElement.className = 'unit';
                    unitElement.id = unit.id;
                    
                    unitElement.innerHTML = `
                        <div class="unit-header bg-indigo-50 p-4 flex items-center justify-between cursor-pointer hover:bg-indigo-100 transition">
                            <h2 class="text-lg font-semibold text-indigo-800">${unit.title}</h2>
                            <div class="flex items-center gap-3">
                                <div class="circular-progress unit-progress" data-progress="${unitProgress}" style="--progress: ${unitProgress}"></div>
                                <svg class="unit-arrow w-5 h-5 text-indigo-600 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </div>
                        </div>
                        <div class="unit-content hidden bg-white divide-y divide-gray-100">
                            ${unit.topics.map(topic => {
                                const topicProgress = calculateProgress(topic.subtopics);
                                return `
                                    <div class="topic p-4" id="${topic.id}">
                                        <div class="flex items-center justify-between mb-2">
                                            <h3 class="text-md font-medium text-indigo-700">${topic.title}</h3>
                                            <div class="flex items-center gap-2">
                                                <div class="circular-progress topic-progress" data-progress="${topicProgress}" style="--progress: ${topicProgress}"></div>
                                            </div>
                                        </div>
                                        <div class="subtopics pl-4 space-y-2">
                                            ${topic.subtopics.map(subtopic => `
                                                <div class="subtopic-item flex items-start gap-2 py-1" id="${subtopic.id}">
                                                    <label class="checkbox-container flex items-start gap-2 cursor-pointer">
                                                        <input type="checkbox" class="subtopic-checkbox" ${subtopic.completed ? 'checked' : ''} data-unit="${unit.id}" data-topic="${topic.id}" data-subtopic="${subtopic.id}">
                                                        <span class="checkmark mt-1"></span>
                                                        <span class="text-sm ${subtopic.completed ? 'line-through text-gray-500' : 'text-gray-700'}">${subtopic.title}</span>
                                                    </label>
                                                </div>
                                            `).join('')}
                                        </div>
                                    </div>
                                `;
                            }).join('')}
                        </div>
                    `;
                    
                    container.appendChild(unitElement);
                    
                    // Add click event for unit header to toggle content
                    const unitHeader = unitElement.querySelector('.unit-header');
                    const unitContent = unitElement.querySelector('.unit-content');
                    const unitArrow = unitElement.querySelector('.unit-arrow');
                    
                    unitHeader.addEventListener('click', () => {
                        unitContent.classList.toggle('hidden');
                        unitArrow.classList.toggle('rotate-180');
                    });
                });
                
                // Add event listeners to all checkboxes
                document.querySelectorAll('.subtopic-checkbox').forEach(checkbox => {
                    checkbox.addEventListener('change', function() {
                        const unitId = this.getAttribute('data-unit');
                        const topicId = this.getAttribute('data-topic');
                        const subtopicId = this.getAttribute('data-subtopic');
                        
                        // Find the subtopic in our data structure
                        const unit = syllabus.units.find(u => u.id === unitId);
                        if (unit) {
                            const topic = unit.topics.find(t => t.id === topicId);
                            if (topic) {
                                const subtopic = topic.subtopics.find(s => s.id === subtopicId);
                                if (subtopic) {
                                    subtopic.completed = this.checked;
                                    
                                    // Update the UI
                                    const subtopicItem = this.closest('.subtopic-item');
                                    const textSpan = subtopicItem.querySelector('span:not(.checkmark)');
                                    textSpan.classList.toggle('line-through');
                                    textSpan.classList.toggle('text-gray-500');
                                    textSpan.classList.toggle('text-gray-700');
                                    
                                    updateProgress();
                                }
                            }
                        }
                    });
                });
            }

            // Reset progress
            document.getElementById('reset-btn').addEventListener('click', function() {
                if (confirm('Are you sure you want to reset all progress for this subject?')) {
                    // Reset all completion statuses
                    syllabus.units.forEach(unit => {
                        unit.topics.forEach(topic => {
                            topic.subtopics.forEach(subtopic => {
                                subtopic.completed = false;
                            });
                        });
                    });
                    
                    // Save and re-render
                    saveProgress();
                    renderSyllabus();
                    updateProgress();
                }
            });

            // Initialize
            loadProgress();
            renderSyllabus();
            updateProgress();
        });
    </script>
</body>
</html>
